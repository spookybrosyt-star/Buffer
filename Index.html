<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NUCLEAR // SYSTEM OVERRIDE</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: 'Courier New', monospace; background-color: #000; }
        .glitch { animation: glitch 1s linear infinite; }
        @keyframes glitch {
            2%, 64% { transform: translate(2px,0) skew(0deg); }
            4%, 60% { transform: translate(-2px,0) skew(0deg); }
            62% { transform: translate(0,0) skew(5deg); }
        }
        .scan-line {
            width: 100%;
            height: 2px;
            background: rgba(0, 255, 0, 0.3);
            position: fixed;
            top: 0;
            left: 0;
            animation: scan 3s linear infinite;
            pointer-events: none;
            z-index: 40;
        }
        @keyframes scan { 0% {top: 0%} 100% {top: 100%} }
        
        /* Modal Animation */
        .modal-enter { animation: fadeIn 0.2s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
    </style>
</head>
<body class="text-green-500 min-h-screen flex flex-col items-center justify-center p-4 overflow-hidden">

    <div class="scan-line"></div>

    <!-- MAIN INTERFACE -->
    <div class="w-full max-w-2xl border-2 border-green-700 bg-gray-900/95 p-8 relative z-10 shadow-[0_0_50px_rgba(0,255,0,0.1)]">
        
        <div class="flex justify-between items-center mb-8 border-b border-green-800 pb-4">
            <h1 class="text-3xl font-bold tracking-widest text-red-500 glitch">SYSTEM_KILLER_MK3</h1>
            <div class="text-right">
                <p class="text-xs text-green-700">CPU_CORES: <span id="cpu-detect">DETECTING...</span></p>
                <p class="text-xs text-green-700">STATUS: IDLE</p>
            </div>
        </div>

        <div class="grid grid-cols-2 gap-6 mb-8">
            <div class="bg-black/50 p-4 border border-green-900">
                <h3 class="text-xs text-gray-500 mb-1">THREAD SATURATION</h3>
                <p id="thread-count" class="text-2xl font-bold text-green-400">0 / <span id="max-threads">--</span></p>
            </div>
            <div class="bg-black/50 p-4 border border-green-900">
                <h3 class="text-xs text-gray-500 mb-1">MEMORY LEAK</h3>
                <p id="ram-count" class="text-2xl font-bold text-red-400">0 MB</p>
            </div>
        </div>

        <!-- Terminal -->
        <div id="terminal-log" class="bg-black p-4 h-40 overflow-y-auto text-xs font-mono text-green-600 border border-green-800 mb-6 shadow-inner">
            > System initialized...<br>
            > Accessing hardware concurrency API...<br>
            > Standing by for user authorization...
        </div>

        <div class="space-y-4">
            <label class="flex items-center space-x-3 cursor-pointer group">
                <input type="checkbox" id="safety-check" class="w-5 h-5 accent-red-600 bg-gray-800 border-gray-600 rounded focus:ring-0">
                <span class="text-sm text-gray-400 group-hover:text-white transition-colors">I acknowledge this may crash my Operating System.</span>
            </label>

            <button 
                id="init-btn" 
                onclick="showWarningModal()"
                disabled
                class="w-full py-5 bg-red-900/40 text-red-500 font-bold border border-red-800 hover:bg-red-600 hover:text-white transition-all duration-200 disabled:opacity-30 disabled:cursor-not-allowed uppercase tracking-[0.2em] shadow-[0_0_20px_rgba(255,0,0,0.2)]"
            >
                Initialize Crash Sequence
            </button>
        </div>
    </div>

    <!-- DANGER MODAL (Hidden by default) -->
    <div id="warning-modal" class="hidden fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-sm p-4">
        <div class="w-full max-w-lg bg-gray-900 border-2 border-red-600 p-6 shadow-[0_0_100px_rgba(255,0,0,0.4)] modal-enter">
            <h2 class="text-3xl font-bold text-red-500 mb-4 border-b border-red-800 pb-2">⚠️ CONFIRM DESTRUCTION</h2>
            
            <p class="text-white mb-4 font-bold">Are you absolutely sure?</p>
            
            <p class="text-sm text-gray-400 mb-2">Executing this protocol will perform the following actions immediately:</p>
            
            <ul class="text-xs text-red-300 space-y-2 mb-6 font-mono bg-black/50 p-4 border border-red-900/50">
                <li class="flex items-start">
                    <span class="mr-2 text-red-500">>></span> 
                    <span>Launch <span id="modal-worker-count">16</span> High-Priority Web Workers to lock 100% of CPU Cores.</span>
                </li>
                <li class="flex items-start">
                    <span class="mr-2 text-red-500">>></span> 
                    <span>Allocate unmanaged ArrayBuffers continuously until OS kills the process (OOM).</span>
                </li>
                <li class="flex items-start">
                    <span class="mr-2 text-red-500">>></span> 
                    <span>Inject thousands of complex DOM nodes to freeze the rendering engine.</span>
                </li>
            </ul>

            <div class="flex space-x-4">
                <button 
                    onclick="closeModal()"
                    class="flex-1 py-3 bg-gray-800 text-gray-300 border border-gray-600 hover:bg-gray-700 font-bold text-sm"
                >
                    ABORT
                </button>
                <button 
                    onclick="executeKillProtocol()"
                    class="flex-1 py-3 bg-red-600 text-white border border-red-500 hover:bg-red-700 font-bold text-sm animate-pulse shadow-[0_0_15px_rgba(255,0,0,0.6)]"
                >
                    CONFIRM EXECUTION
                </button>
            </div>
        </div>
    </div>

    <!-- Hidden Container for DOM Explosion -->
    <div id="dom-explosive" class="fixed top-0 left-0 w-1 h-1 opacity-0 overflow-hidden"></div>

    <script>
        // --- ELEMENTS ---
        const TERMINAL = document.getElementById('terminal-log');
        const RAM_DISPLAY = document.getElementById('ram-count');
        const THREAD_DISPLAY = document.getElementById('thread-count');
        const CHECKBOX = document.getElementById('safety-check');
        const INIT_BTN = document.getElementById('init-btn');
        const MODAL = document.getElementById('warning-modal');
        const CPU_DETECT_LABEL = document.getElementById('cpu-detect');
        const THREAD_MAX_LABEL = document.getElementById('max-threads');
        const MODAL_WORKER_COUNT = document.getElementById('modal-worker-count');
        
        // --- STATE ---
        let memoryStore = [];
        let running = false;
        // Detect Cores (Default to 8 if API fails, multiply by 2 for overload)
        const logicalCores = navigator.hardwareConcurrency || 8;
        const totalWorkers = logicalCores * 2;

        // --- INIT ---
        window.onload = () => {
            CPU_DETECT_LABEL.innerText = `${logicalCores} LOGICAL CORES`;
            THREAD_MAX_LABEL.innerText = totalWorkers;
            MODAL_WORKER_COUNT.innerText = totalWorkers;
            log(`Hardware detected: ${logicalCores} Cores.`);
            log(`Attack vector configured for ${totalWorkers} concurrent threads.`);
        };

        // --- UI LOGIC ---
        CHECKBOX.addEventListener('change', (e) => {
            INIT_BTN.disabled = !e.target.checked;
        });

        function log(msg) {
            TERMINAL.innerHTML += `> ${msg}<br>`;
            TERMINAL.scrollTop = TERMINAL.scrollHeight;
        }

        function showWarningModal() {
            MODAL.classList.remove('hidden');
            log("User initiated sequence. Awaiting final confirmation...");
        }

        function closeModal() {
            MODAL.classList.add('hidden');
            log("Sequence aborted by user.");
        }

        // --- KILLER LOGIC ---
        function executeKillProtocol() {
            if (running) return;
            running = true;
            
            // Hide modal
            MODAL.classList.add('hidden');
            
            // Disable UI
            INIT_BTN.innerText = "SYSTEM CRITICAL";
            INIT_BTN.classList.add('bg-red-600', 'text-white');
            CHECKBOX.disabled = true;

            log("CONFIRMATION RECEIVED.");
            log("!!! STARTING RESOURCE SATURATION !!!");

            // 1. WORKER BLOB (CPU)
            const workerCode = `
                self.onmessage = function() {
                    while(true) { 
                        // Complex math to heat up the FPU
                        Math.random() * Math.sin(Math.random()) * Math.tan(Math.random());
                    }
                };
            `;
            const blob = new Blob([workerCode], { type: 'application/javascript' });
            const workerUrl = URL.createObjectURL(blob);
            
            let workersLaunched = 0;
            
            // Launch workers in a tight interval
            const workerInterval = setInterval(() => {
                if(workersLaunched >= totalWorkers) {
                    clearInterval(workerInterval);
                    log(`CPU LOAD: 100% (${workersLaunched} Threads Locked)`);
                    // Start RAM flood immediately after CPU lock
                    setTimeout(initiateMemoryFlood, 100); 
                    return;
                }
                const w = new Worker(workerUrl);
                w.postMessage('START');
                workersLaunched++;
                THREAD_DISPLAY.innerText = `${workersLaunched} / ${totalWorkers}`;
            }, 20); // 20ms delay between spawns

        }

        function initiateMemoryFlood() {
            log("INJECTING MEMORY LEAKS...");
            
            // 2. RAM FLOOD
            // 512MB Chunks (Double previous size for stronger devices)
            const CHUNK_SIZE = 512 * 1024 * 1024 / 8; 
            let totalMB = 0;

            const memInterval = setInterval(() => {
                try {
                    const arr = new Float64Array(CHUNK_SIZE);
                    // Dirty the memory
                    for (let i = 0; i < arr.length; i += 5000) {
                        arr[i] = Math.random(); 
                    }
                    memoryStore.push(arr);
                    
                    totalMB += 512;
                    RAM_DISPLAY.innerText = `${totalMB} MB`;
                    
                    // 3. DOM STRESS
                    explodeDOM(200);

                } catch (e) {
                    log("RAM LIMIT HIT. ENGAGING FINAL LOCK...");
                    clearInterval(memInterval);
                    // 4. THE END (Synchronous Lock)
                    freezeForever();
                }
            }, 50); // Extremely aggressive timing
        }

        function explodeDOM(count) {
            const container = document.getElementById('dom-explosive');
            const fragment = document.createDocumentFragment();
            for(let i=0; i<count; i++) {
                const div = document.createElement('div');
                // Force layout recalculations
                div.style.position = 'absolute';
                div.style.left = Math.random() * 100 + 'px';
                div.innerText = 'X';
                fragment.appendChild(div);
            }
            container.appendChild(fragment);
        }

        function freezeForever() {
            // This loop prevents any further UI updates or interaction
            while(true) {
                const date = new Date(); // Burn cycles
            }
        }
    </script>
</body>
</html>
